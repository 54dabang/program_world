图算法一般用来解决关系网状的业务场景。与常规的结构化数据不同，图算法需要把数据整理成首尾相连的关系图谱，更多考虑的是边和点的概念。阿里云机器学习平台上提供了丰富的图算法组件，包括K-Core、最大联通子图、标签传播聚类等。
本文档针对阿里云机器学习平台上图算法模块来进行实验，业务场景如下。
下图是已知的一份人物通联关系图，每两个人之间的连线表示两人有一定关系，可以是同事或者亲人关系等。已知“Enoch”是信用用户，“Evan”是欺诈用户。需要通过图算法，计算出其它人的信用指数，即得到图中每个人是欺诈用户的概率。这个数据可以方便相关机构做风控。



数据集介绍
具体字段如下表所示。

字段名	含义	类型	描述
start_point	边的起始节点	string	人
end_point	边结束节点	string	人
count	关系紧密度	double	数值越大，两人的关系越紧密
数据截图如下。



数据探索流程
实验流程图如下。



1. 最大联通子图
最大联通子图的功能：图算法的输入数据是关系图谱结构的，最大联通子图可以找到有通联关系的最大集合，在团伙发现的场景中可以排除掉一些与风控场景无关的人。
本次实验通过最大联通子图组件将数据中的群体分为两部分，并赋予group_id。通过SQL脚本组件和JOIN组件去除下图中的无关联人员。



2. 单源最短路径
通过单源最短路径组件探查出每个人的一度人脉、二度人脉等关系。“distance”表示“Enoch”通过几个人可以联络到目标人，如下图所示。



3. 标签传播分类
标签传播分类算法为半监督的分类算法，原理是用已标记节点的标签信息去预测未标记节点的标签信息。在算法执行过程中，每个节点的标签按相似度传播给相邻节点。
使用标签传播分类组件除了需要所有人员的通联图数据以外，还要有人员打标数据。本实验通过已知数据（读数据表）组件导入打标数据（“weight”表示目标是欺诈用户的概率），如下图所示。



4. 结论
通过SQL脚本组件对结果进行筛选，最终展现的是每个人涉嫌欺诈的概率，数值越大表示是欺诈用户的概率越大，如下图所示。

