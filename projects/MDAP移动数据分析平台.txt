MDAP移动数据分析平台
开发环境：Windows + JDK1.7+Eclipse+linux+mysql
软件架构： Spark1.3，hbase,kafka,flume,hdfs,zookeeper
开发时间/开发周期：2015.3-至今
系统目标：
MDAP2.0是融易通打造的一款数据分析产品，专注于移动应用领域，旨在为企业更好地了解用户行为习惯、及时掌握运营情况提供帮助，同时以数据作为支撑，为应用设计优化和实现精准营销提供依据。
系统实现：
移动应用集成数据采集SDK后，数据采集SDK自动采集应用和设备的部分信息，对于SDK无法自动采集的数据，使用Nginx插件结合Lua API进行采集。发送到数据采集服务器。数据采集服务器使用flume进行数据采集，把数据采集到Kafka集群。
业务服务器生成的日志通过flume采集到kafka集群。
然后kafka集群的数据落地到hdfs上。
离线业务从hdfs集群中读取数据，在Spark集群中进行业务处理，指标计算。
离线计算有3个job：增量计算，聚合，批量计算。
增量计算是指每次计算数据指标时只包含数据新增的部分，然后将计算得出的增量结果累加到最终的结果中，我们通过给每个用户维护一个state数据结构来实现增量计算，state的初始状态为空，在进行增量计算时首先读取用户的state，然后借助state判断本次增量结果，然后将增量结果累加到最终结果，最后更新用户的state状态并对state做持久化保存。增量计算完的结果保存在Hbase中。
聚合：将新增数据和以往的数据聚合。
批量计算：批量修改算有的用户。
kibana报表展现
实时业务直接从kafka集群中读取数据，通过SparkStreaming进行实时计算，业务监控。