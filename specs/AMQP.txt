产品概述
更新时间：2019-01-30 16:51:09


消息队列 AMQP 由阿里云消息队列（MQ）团队基于 AMQP 0.91 标准协议研发，完全兼容 RabbitMQ 开源社区，打造分布式、高吞吐、低延迟、高可扩展的云消息服务。用户可开箱即用，无需部署免运维，从而实现快速上云，阿里云提供全托管服务，更专业、更可靠、更安全。

消息队列 AMQP 可广泛用于金融保险、政企、电商、新零售、物流、视频互动、能源等行业的业务消息通讯。


产品优势
更新时间：2019-01-30 17:15:28


本页目录
灵活易用
功能增强
超强性能
安全可靠
本文主要介绍消息队列 AMQP 相比于自建开源 RabbitMQ 所具备的优势。

灵活易用
开箱即用：完全兼容 AMQP 0.91 标准协议，完全兼容 RabbitMQ 开源社区，无需代码改造，快速迁移上云；

全托管服务：一键开通消息队列 AMQP 服务，即享有免部署免运维的云消息服务。依托于阿里云消息队列 MQ 专业的自动化运维团队，核心链路秒级、分钟级进行多维度巡检，全面的健康诊断报告，针对不健康的状态进行告警与及时恢复，保证服务的可用性与业务的连续性；

功能增强
定时消息：全面支持定时/延时消息，实现秒级精准定时，无先入先出限制；简单易用，在代码上只需要一个参数的设置即可完成，解决开源 RabbitMQ 无延时队列的痛点；

死信队列：增强型死信队列，不仅支持被拒绝消息、TTL 过期消息、队列达到最大长度（消息队列 AMQP 队列长度无上限）等 3 种类型消息，新增未能成功消费的消息（超过最大重试次数）自动进入死信队列的能力，确保消息不丢；

消息重试：灵活的消息重试机制，支持最大失败重试次数设置，消息重试间隔时间支持加权延长的功能，确保业务系统稳定运行，不会因为重试消息给业务系统带来不可控的压力；

超强性能
平台性能上限：支持百万级队列，横向扩容带来性能的线性增长，性能上无并发限制；

单队列扩容：解决 RabbitMQ 单队列性能瓶颈，支持单队列的横向扩展，性能上无并发限制；

弹性伸缩：可扩展能力强、性能线性增强，可根据业务需求弹性伸缩，对用户透明；

海量堆积：在海量消息堆积的情况下，始终保持高性能，不影响集群的正常服务；

安全可靠
权限粒度：Vhost & Queue & Exchange 细粒度权限控制，每次消息请求进行安全访问控制；

主子账号：全面对接阿里云 RAM 主子账号、黑白名单、STS 等功能；

加密：支持 TLS 传输加密协议；

名词解释

Vhost

虚拟主机（Virtual Host），类似于 Namespace 命名空间的概念，逻辑隔离，每个用户里可以创建多个 Vhost，每个 Vhost 可以创建若干个 Exchange 和 Queue。

Queue

消息队列，每个消息都会被投入到一个或者多个 Queue 里。

Producer

消息生产者，即投递消息的程序。

Consumer

消息消费者，即接受消息的程序。

Connection

TCP 连接，Producer 或 Consumer 与消息队列 AMQP 间的物理 TCP 连接。

Channel

在客户端的每个物理 TCP 连接里，可建立多个 Channel，每个 Channel 代表一个会话任务。

Exchange

Producer 将消息发送到 Exchange ，由 Exchange 将消息路由到一个或多个 Queue 中（或者丢弃），Exchange 按照相应的 Binding 逻辑将消息路由到 Queue。

Exchange 类型

Fanout：该类型路由规则非常简单，会把所有发送到该 Exchange 的消息路由到所有与它绑定的 Queue 中，相当于广播功能

Direct：该类型路由规则会将消息路由到 Binding key 与 Routing key 完全匹配的 Queue 中

Topic：该类型与 Direct 类型相似，只是规则没有那么严格，可以模糊匹配和多条件匹配，即该类型 Exchange 使用 Routing key 模式匹配和字符串比较的方式将消息路由至绑定的 Queue。

示例：
Routing key 为 use.stock 的消息会转发给绑定匹配模式为 * .stock, use.stock， * . * 和 #.use.stock.# 的 Queue；
* 表是匹配一个任意词组，# 表示匹配 0 个或多个词组；

Binding

一套绑定规则，用于告诉 Exchange 消息应该被存储到哪个 Queue。它的作用是把 Exchange 和 Queue 按照路由规则绑定起来。

Routing Key

Producer 在发送消息给 Exchange 时，需要指定一个 Routing key 来设定该消息的路由规则，而 Routing key 需要与 Exchange 类型及 Binding key 联合使用才能生效；
一般情况下，Exchange 类型与 Binding key 提供配置好，Producer 在发送消息给 Exchange 时，可以通过指定 Routing key 来决定消息投放到哪个 Queue。